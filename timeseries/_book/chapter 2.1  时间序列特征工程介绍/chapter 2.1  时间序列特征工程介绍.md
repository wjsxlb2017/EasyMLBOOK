[TOC]

# 引言


什么是特征工程？在机器学习中的作用？
时序建模的应用场景？是否需要特征工程？
时序特征工程跟一般数据的特征工程的差异？

# 时序分析方法

时间序列数据是一种重要的高维数据类型，它是按照时间顺序观察所得到的一串数据。时间序列的应用日益广泛，其涉及天文、地理、生物、物理、化学等自然科学领域，图像识别、语音处理、声纳技术、遥感技术、机械工程等工程技术领域，以及市场经济、金融分析、人口统计、地震检测等社会经济领域，当前对于时间序列挖掘的研究正得到越来越多的重视。

时间序列由两个基本因素构成：一个是被研究现象所属时间，另一个是反映该现象一定时间条件下数量特征的指标值。 

从统计意义上来讲，所谓时间序列就是将某一指标在不同时间上的不同数值，按照时间的先后顺序排序而成的数列。这种数列由于受到各种偶然因素的影响，往往表现出某种随机性，彼此之间存在这统计上的依赖关系。虽然每一个时刻上的取之或数据点的位置具有一定的随机性，不可能完全准确地用历史值来预测将来，但是前后时刻的数值或数据点的相关性往往呈现某种趋势性或周期性变化，这是时间序列挖掘的可行性之所在。时间序列挖掘通过对过去历史行为的客观记录分析，揭示其内在的规律（如波动的周期、振幅、趋势的种类等），进而完成预测未来行为等决策性工作.



在机器学习和深度学习出现之前，人们就开始使用数学模型和工具来研究时序和信号，主要方法有以下几种：
- 时域分析：从时间的角度看序列的值如何变化，包括时间间隔的宽度和高度，统计特征 和其他的 视觉上/形态（visual）的特征
- 频域分析： 对于很多信号，比如具有周期性的信号，可以使用一些列规律的周期函数(如正弦函数)来表征，具体来说，可以由这些周期特征的线性组合来近似，而组合的系数就是时序的embedding的特征向量。
- 邻近距离分析：当把两个序列看成两个样本时，如何定义距离函数？直接使用欧式距离不可以的，因为两个信号长度可能不一致，针对这种特殊数据，提出了 [dynamic time warping]。
- **(S)AR(I)MA(X) models**:使用序列的自相关性对序列进行建模，然后预测。
- 时序分解：假设时序可分解成三个部分的和或者积，即趋势变动（ T  ）、季节变动（ S  ）、和随机变动（ I ).
- 非线性动力系统：使用微分方程(普通，偏微分，随机微分等)作为工具对实际的信号进行建模，虽然现在不常用，但是有一些特征仍然可能很有用。
--------分割线----
- 机器学习：上面所有的方法都可以生成特征供机器学习使用。
- 深度学习：传统的方法，都需要依赖先验，先探索数据分布，然后选模型，构造特征，但是这部分人工的工作如果也被AI替代了，那就是深度学习。


在统计分析中，对时间序列还采取一种简化、直接的分析方法，它没有具体描述被研究现象与其影响因素之间的关系，而是把各影响因素分别看作一种作用力，被研究对象的时间序列则看成合力；然后按作用特点和影响效果将影响因素规为 4  类，即趋势变动（ T  ）、季节变动（ S  ）、循环变动（ C  ）和随机变动（ I  ）。这四种类项的变动叠加在一起，形成了实际观测到的时间序列，因而可以通过对这四种变动形式的考察来研究时间系列的变动 

在时间序列序列挖掘的研究中，目前比较集中的问题之一是时间序列的快速查询以及相应的存取结构设计。早期的工作着重与精确查找。但是，大多数新型的数据库应用，特别是数据挖掘应用需要数据库具备相似（ Similarity  ）查找能力。对于在几兆，甚至几十兆的时间序列数据库中发现两个模式相似的序列，手工处理很难胜任这样的工作，传统的数据库查找方法也难以完成此类任务，因此时间序列相似性查找成为目前数据挖掘领域的一个新的研究课题。目前国际和国内对时间序列相似度的研究提出了许多种解决方法，这些方法主要包括基于直接距离、傅立叶变换、 ARMA   模型参数法、规范变换、时间弯曲模型、界标模型、神经网络、小波变换、规则推导等。 

从理论上来看，基于统计特性描述（如一阶统计量和高阶统计量）或参数建模（如 AR  建模和 ARMA  建模）的传统时间序列分析方法有可能用来解决相似性问题，但实际上并不能得到很好的结果，其主要困难在于相似性度量的定义和算法的时间复杂度，而这两者都依赖于时间序列的近似表示方法。因此，寻求某种鲁棒性强且计算复杂度低的时间序列近似表示方法，一直是解决相似性搜索问题的关键。迄今为止，时间序列相似性搜索问题已经提出了 10  年左右的时间，在这段时间内，先后出现了许多面向相似性搜索的时间序列近似表示方法，如 Agrawal  采用的离散傅立叶变换（ DFT  ， Discrete Fourier Transform)  、 Chan  等人采用的 Haar  小波变换方法、 Last   等人提出的关键特征（如斜率和信噪比）法、 Guralnik  等人提出的字符表方法、 Korn  等人提出的奇异值分解（ SVD  ， Singular Value Decomposition  ）法、 Keogh  等人先后提出的分段累积近似法（ PAA  ， Piecewise Aggregate Approximation  ）、分段线性表示（ PLR  ， Piecewise Linear Representation  ）和适应性分段常数近似法（ APCA  ， Adaptive Piecewise Constant  ）等分段方法，以及 Perng  等人提出的界标模型（ Landmark Model  ）等。这些表示方法各有所长，为时间序列相似性研究提供了诸多可以借鉴与参考的方向 [32  ] 。 





# 特征工程简介
特征工程是构建一个智能系统的重要组成部分，目的是最大限度地从原始数据中提取信息，以供算法和模型使用。对于不同的领域，特征工程的方法也是不一样的。

特征可以分为两类：原始特征和衍生特征，原始特征可以直接从数据集中获得，衍生特征通常通过特征工程，对原始数据进程处理或转换获得。

特征工程具体的方法包括：
- 特征提取
- 特征转换
- 特征筛选

特征工程的基本方法虽然是固定的，但是在不同的任务和不同的数据上，特征工程的方法却没有统一的一套标准解决方案，而是需要测试多种组合方式才能得到最优的配置。

在运维场景中，时间序列数据是一种常见的数据类型。对于一些数据挖掘任务如时序预测和时序异常检测等，大部分回归和分类的机器学习算法不能直接应用，而是需要先对时序数据进行大量的特征工程的工作。

# 时序挖掘中的特征工程



特征工程作为时序建模的步骤中一项必要的和重复性的工作，系统化的特征工程会使得建模过程更加高效便捷。接下来的几篇文章会介绍

1. 特征空间构造。
2. 常用时间序列特征。
3. 以及在不同的应用场景下如何定制特征。



