# pca
## 算法原理
使用pca做异常检测的原理：
将原始的d维空间中n个数据点，映射到新的k维坐标系中（对应k个主成分），至于其他的d-k个最小的特征根对应的主成分，计算数据点在这个d-k个方向上的投影值，如果投影值越大，说明数据点表现的越异常。
## 符号说明
$D$: 原始特征矩阵，空间中n个数据点构成的矩阵，行表示一条记录，列表示一个特征，$D \in R^{n * d}$。
$\Sigma$: 对角矩阵，对角元为协方差矩阵的p个特征值，并且这p个特征值是从大到小排列的。
$P$: 协方差矩阵的p个特征向量，跟特征值是一一对应的关系，并且两两正交。
$D'$: 原始的特征矩阵D变换到协方差矩阵的k个特征向量的新的特征矩阵,即$D' = D P$ ， $D' \in R^{n * k}$。

## 
## 【补】跟马氏距离的联系
在原始空间中计算样本点（row）到中心点（使用的是总体样本的中心点）马氏距离是使用pca计算异常得分的一个特例，pca是通过计算新的空间中对各个坐标轴上样本点离中心欧式距离的加权求和来计算异常得分的。

![](./_image/2018-09-23-18-31-11.jpg)

具体的算法步骤如下：
![](./_image/2018-09-23-18-32-41.jpg)


# 参考文献
[1] Aggarwal, C.C., 2015. Outlier analysis. In Data mining (pp. 237-263). Springer, Cham.
